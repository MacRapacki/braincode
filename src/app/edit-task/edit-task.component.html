<form [formGroup]="formGroup" (ngSubmit)="onSubmit(formGroup)">

    <div class="form-group" [ngClass]="TaskService.checkerCss('title', formGroup)">
        <label>
            Title <input type="text" formControlName="title" name="title">
        </label>


        <app-error-field 
            [displayError]="TaskService.isFieldValid('title', formGroup)" 
            errorMsg="Please provide title">
        </app-error-field>
    </div>

    <div class="form-group" [ngClass]="TaskService.checkerCss('description', formGroup)">
        <label>
            Description <input type="text" formControlName="description" name="description">
        </label>
        <app-error-field 
            [displayError]="TaskService.isFieldValid('description', formGroup)" 
            errorMsg="Please provide description">
        </app-error-field>
    </div>

    <div>

        <div class="form-group" [ngClass]="TaskService.checkerCss('deadline', formGroup)">
            <label>
                Deadline <input type="date" formControlName="deadline" name="deadline">
            </label>
            <app-error-field 
                [displayError]="TaskService.isFieldValid('deadline', formGroup)" 
                errorMsg="Please provide Deadline date">
            </app-error-field>
        </div>

    <select formControlName="hours">
        <option *ngFor="let option of TaskService.generatorOptions(24,1)">
            {{ option }}
        </option>
    </select>

    <select formControlName="minutes">
        <option *ngFor="let option of TaskService.generatorOptions(3,15)">
            {{ option }}
        </option>
    </select>
    </div>


    <div class="form-group" [ngClass]="TaskService.checkerCss('value', formGroup)">
        <label>
            Value <input class="value" type="number" min="0" value="1" formControlName="value" name="value">
        </label>
        <app-error-field 
            [displayError]="TaskService.isFieldValid('value', formGroup)" 
            errorMsg="Please provide value">
        </app-error-field>
    </div>

    <button type="submit">Save</button>
    <button (click)="discardChanges($event)"> Discard </button>
</form>